(("undefined"!==typeof self?self:this)["webpackChunkocp_0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunkocp_0_1_0"]||[]).push([[737],{9980:function(e,t,s){"use strict";s.d(t,{l:function(){return a.A}});var a=s(8745)},7619:function(e,t,s){"use strict";s.d(t,{A:function(){return c}});var a=s(9274);const r={key:0,class:"loading-indicator"},o={key:1};function n(e,t,s,n,i,l){const u=(0,a.resolveComponent)("t");return s.loading?((0,a.openBlock)(),(0,a.createElementBlock)("div",r,[i.showMessage?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(["overlay",{"overlay-content-mode":"content"===s.mode,"overlay-main-mode":"main"===s.mode}])},[(0,a.createVNode)(u,{k:"generic.loading",raw:!0})],2)):(0,a.createCommentVNode)("",!0)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",o,[(0,a.renderSlot)(e.$slots,"default",{},void 0,!0)]))}var i={props:{loading:{type:Boolean,default:!0},mode:{type:String,default:"content"},noDelay:{type:Boolean,default:!1}},data(){return{timer:null,showMessage:this.noDelay}},mounted(){this.timer=setTimeout((()=>{this.showMessage=!0}),250)},beforeUnmount(){clearTimeout(this.timer)}},l=(s(513),s(7433));const u=(0,l.A)(i,[["render",n],["__scopeId","data-v-fac347aa"]]);var c=u},9201:function(e,t,s){"use strict";s.r(t);var a=s(6758),r=s.n(a),o=s(6173),n=s.n(o),i=n()(r());i.push([e.id,".overlay[data-v-fac347aa]{align-items:center;background-color:var(--subtle-overlay-bg);display:flex;justify-content:center;position:absolute;bottom:0;top:0;left:0;right:0;text-align:center;z-index:12}.overlay-main-mode[data-v-fac347aa]{top:var(--header-height);z-index:51}.overlay-content-mode[data-v-fac347aa]{left:calc(var(--nav-width));top:var(--header-height)}",""]),t["default"]=i},2589:function(e,t,s){"use strict";s.d(t,{A:function(){return B}});var a=s(4220),r=s(9274);const o={VERSION_RANCHER:"server-version",VERSION_CLI:"cli-version",VERSION_MACHINE:"machine-version",VERSION_HELM:"helm-version",CLI_URL:{DARWIN:"cli-url-darwin",WINDOWS:"cli-url-windows",LINUX:"cli-url-linux"},API_HOST:"api-host",CA_CERTS:"cacerts",HIDE_LOCAL_CLUSTER:"hide-local-cluster",AUTH_TOKEN_MAX_TTL_MINUTES:"auth-token-max-ttl-minutes",KUBECONFIG_GENERATE_TOKEN:"kubeconfig-generate-token",KUBECONFIG_DEFAULT_TOKEN_TTL_MINUTES:"kubeconfig-default-token-ttl-minutes",ENGINE_ISO_URL:"engine-iso-url",FIRST_LOGIN:"first-login",INGRESS_IP_DOMAIN:"ingress-ip-domain",SERVER_URL:"server-url",RKE_METADATA_CONFIG:"rke-metadata-config",EULA_AGREED:"eula-agreed",AUTH_USER_INFO_MAX_AGE_SECONDS:"auth-user-info-max-age-seconds",AUTH_USER_SESSION_IDLE_TTL_MINUTES:"auth-user-session-idle-ttl-minutes",AUTH_USER_SESSION_TTL_MINUTES:"auth-user-session-ttl-minutes",AUTH_USER_INFO_RESYNC_CRON:"auth-user-info-resync-cron",AUTH_LOCAL_VALIDATE_DESC:"auth-password-requirements-description",PASSWORD_MIN_LENGTH:"password-min-length",UI_INDEX:"ui-index",UI_DASHBOARD_INDEX:"ui-dashboard-index",UI_DASHBOARD_HARVESTER_LEGACY_PLUGIN:"ui-dashboard-harvester-legacy-plugin",UI_OFFLINE_PREFERRED:"ui-offline-preferred",SYSTEM_DEFAULT_REGISTRY:"system-default-registry",UI_ISSUES:"ui-issues",PL:"ui-pl",PL_RANCHER_VALUE:"rancher",SUPPORTED:"has-support",BANNERS:"ui-banners",ISSUES:"ui-issues",BRAND:"ui-brand",LOGO_LIGHT:"ui-logo-light",LOGO_DARK:"ui-logo-dark",BANNER_LIGHT:"ui-banner-light",BANNER_DARK:"ui-banner-dark",LOGIN_BACKGROUND_LIGHT:"ui-login-background-light",LOGIN_BACKGROUND_DARK:"ui-login-background-dark",PRIMARY_COLOR:"ui-primary-color",LINK_COLOR:"ui-link-color",COMMUNITY_LINKS:"ui-community-links",FAVICON:"ui-favicon",UI_PERFORMANCE:"ui-performance",UI_CUSTOM_LINKS:"ui-custom-links",UI_SUPPORTED_K8S_VERSIONS:"ui-k8s-supported-versions-range",THEME:"ui-theme",SYSTEM_NAMESPACES:"system-namespaces",CLUSTER_AGENT_DEFAULT_AFFINITY:"cluster-agent-default-affinity",FLEET_AGENT_DEFAULT_AFFINITY:"fleet-agent-default-affinity",ADD_EXTENSION_REPOS_BANNER_DISPLAY:"display-add-extension-repos-banner",AGENT_TLS_MODE:"agent-tls-mode",USER_RETENTION_CRON:"user-retention-cron",USER_RETENTION_DRY_RUN:"user-retention-dry-run",USER_LAST_LOGIN_DEFAULT:"user-last-login-default",DISABLE_INACTIVE_USER_AFTER:"disable-inactive-user-after",DELETE_INACTIVE_USER_AFTER:"delete-inactive-user-after",K3S_UPGRADER_UNINSTALL_CONCURRENCY:"k3s-based-upgrader-uninstall-concurrency",SYSTEM_AGENT_UPGRADER_INSTALL_CONCURRENCY:"system-agent-upgrader-install-concurrency",IMPORTED_CLUSTER_VERSION_MANAGEMENT:"imported-cluster-version-management",CLUSTER_AGENT_DEFAULT_PRIORITY_CLASS:"cluster-agent-default-priority-class",CLUSTER_AGENT_DEFAULT_POD_DISTRIBUTION_BUDGET:"cluster-agent-default-pod-disruption-budget",KEV2_OPERATORS:"kev2-operators",DYNAMIC_CONTENT_ENABLED:"ui-content-enabled",DYNAMIC_CONTENT_ENDPOINT:"ui-content-endpoint"},n=(o.CA_CERTS,o.ENGINE_ISO_URL,o.PASSWORD_MIN_LENGTH,o.INGRESS_IP_DOMAIN,o.AUTH_USER_INFO_MAX_AGE_SECONDS,o.AUTH_USER_SESSION_IDLE_TTL_MINUTES,o.AUTH_USER_SESSION_TTL_MINUTES,o.AUTH_TOKEN_MAX_TTL_MINUTES,o.KUBECONFIG_GENERATE_TOKEN,o.KUBECONFIG_DEFAULT_TOKEN_TTL_MINUTES,o.AUTH_USER_INFO_RESYNC_CRON,o.SERVER_URL,o.RKE_METADATA_CONFIG,o.SYSTEM_DEFAULT_REGISTRY,o.UI_INDEX,o.UI_DASHBOARD_INDEX,o.UI_OFFLINE_PREFERRED,o.BRAND,o.HIDE_LOCAL_CLUSTER,o.AGENT_TLS_MODE,o.SYSTEM_AGENT_UPGRADER_INSTALL_CONCURRENCY,o.K3S_UPGRADER_UNINSTALL_CONCURRENCY,o.IMPORTED_CLUSTER_VERSION_MANAGEMENT,o.CLUSTER_AGENT_DEFAULT_PRIORITY_CLASS,o.CLUSTER_AGENT_DEFAULT_POD_DISTRIBUTION_BUDGET,o.ENGINE_ISO_URL,o.RKE_METADATA_CONFIG,o.K3S_UPGRADER_UNINSTALL_CONCURRENCY,o.IMPORTED_CLUSTER_VERSION_MANAGEMENT,o.CLUSTER_AGENT_DEFAULT_PRIORITY_CLASS,o.CLUSTER_AGENT_DEFAULT_POD_DISTRIBUTION_BUDGET,"pod"),i={DEPLOYMENT:"apps.deployment",CRON_JOB:"batch.cronjob",DAEMON_SET:"apps.daemonset",JOB:"batch.job",STATEFUL_SET:"apps.statefulset",REPLICA_SET:"apps.replicaset",REPLICATION_CONTROLLER:"replicationcontroller"},{DAEMON_SET:l,CRON_JOB:u,JOB:c,...E}=(i.DEPLOYMENT,i.CRON_JOB,i.DAEMON_SET,i.JOB,i.STATEFUL_SET,i.REPLICA_SET,i.REPLICATION_CONTROLLER,i.DAEMON_SET,i.REPLICA_SET,i.STATEFUL_SET,i.DEPLOYMENT,i),_="fleet-default";var d=s(6978);s(4364);const p={};const N=function(e,t,s={}){const a=!0===s.parseJSON,r=!0===s.asCookie,o=!1!==s.asUserPreference,n=s.options,i=s.inheritFrom;return p[e]={def:t,options:n,parseJSON:a,asCookie:r,asUserPreference:o,inheritFrom:i,mangleRead:s.mangleRead,mangleWrite:s.mangleWrite},e},S=!0,h=!0,T=(N("cluster",""),N("last-namespace","")),O=(N("ns-by-cluster",{},{parseJSON:S}),N("workspace",""),N("open-groups",["cluster","policy","rbac","serviceDiscovery","storage","workload"],{parseJSON:S}),N("fav-type",[],{parseJSON:S}),N("pinned-clusters",[],{parseJSON:S}),N("group-by","namespace"),N("diff","unified",{options:["unified","split"]}),N("theme","auto",{options:["light","auto","dark"],asCookie:h,parseJSON:S,mangleRead:e=>e.replace(/^ui-/,""),mangleWrite:e=>`ui-${e}`}),N("pcs","",{asCookie:h,asUserPreference:!1}),N("locale","en-us",{asCookie:h}),N("keymap","sublime",{options:["sublime","emacs","vim"]}),N("per-page",100,{options:[10,25,50,100],parseJSON:S}),N("logs-wrap",!0,{parseJSON:S}),N("logs-time",!0,{parseJSON:S}),N("logs-range","30 minutes",{parseJSON:S}),N("hide-repos",[],{parseJSON:S}),N("hide-desc",[],{parseJSON:S}),N("hide-sensitive",!0,{options:[!0,!1],parseJSON:S}),N("show-pre-release",!1,{options:[!1,!0],parseJSON:S}),N("date-format","ddd, MMM D YYYY",{options:["ddd, MMM D YYYY","ddd, D MMM YYYY","D/M/YYYY","M/D/YYYY","YYYY-MM-DD"]}),N("time-format","h:mm:ss a",{options:["h:mm:ss a","HH:mm:ss"]}),N("time-zone","local"),N("dev",!1,{parseJSON:S})),R=(N("view-in-api",!1,{parseJSON:S,inheritFrom:O}),N("all-namespaces",!1,{parseJSON:S,inheritFrom:O}),N("theme-shortcut",!1,{parseJSON:S,inheritFrom:O}),N("last-visited","home",{parseJSON:S}),N("seen-whatsnew","",{parseJSON:S}),N("read-whatsnew","",{parseJSON:S}),N("after-login-route","home",{parseJSON:S}),N("home-page-cards",{},{parseJSON:S}),N("plugin-developer",!1,{parseJSON:S,inheritFrom:O}),"rke1"),f="rke2";N("provisioner",f,{options:[R,f]}),N("scale-pool-prompt",null,{parseJSON:S}),N("read-new-release","",{parseJSON:S}),N("read-support-notice","",{parseJSON:S}),N("read-upcoming-support-notice","",{parseJSON:S}),N("read-announcements","",{parseJSON:S});var A=s(9726),m=s(8851);s(2043);const I={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object FileList]":"filelist"},{toString:g}=Object.prototype;function U(e){if(null===e)return"null";if(void 0===e)return"undefined";let t=I[g.call(e)]||"object";return"object"===t&&(e instanceof Error?t="error":e instanceof Date&&(t="date")),t}function L(e,t){const s=e-t;return(s>0)-(s<0)}const v={undefined:0,null:1,boolean:2,number:3,string:4,array:5,object:6,instance:7,function:8,class:9,date:10};function C(e,t){const s=U(e),a=U(t),r=L(v[s],v[a]);if(r)return r;switch(s){case"boolean":case"number":return L(e,t);case"string":return L(e.localeCompare(t),0);case"array":{const s=e.length,a=t.length,r=Math.min(s,a);for(let o=0;o<r;o++){const s=C(e[o],t[o]);if(0!==s)return s}return L(s,a)}case"date":return L(e.getTime(),t.getTime())}return 0}function D(e){const t=e.split(/:/);return 2===t.length&&"desc"===t[1]?{field:t[0],reverse:!0}:{field:e,reverse:!1}}function y(e,t,s){return Array.isArray(t)||(t=[t]),(e||[]).slice().sort(((e,a)=>{for(let r=0;r<t.length;r++){const o=D(t[r]),n=(0,d.Jt)(e,o.field),i=(0,d.Jt)(a,o.field);let l=C(n,i);if(l)return s&&(l*=-1),o.reverse&&(l*=-1),l}return 0}))}var b=s(4364);let M=1;const k="_beforeSaveHooks",G="_afterSaveHooks";var F={methods:{registerBeforeHook(e,t,s=99,a){this._registerHook(k,e,t,s,a)},unregisterBeforeSaveHook(e){this[k]=this[k].filter((t=>t.name!==e))},registerAfterHook(e,t,s=99,a){this._registerHook(G,e,t,s,a)},async applyHooks(e,...t){if(!e)throw new Error("Must specify key");const s=y(this[e]||[],["priority","name"]),a={};for(const r of s)b.debug("Applying hook",r.name),a[r.name]=await r.fn.apply(r.fnContext||this,t);return a},_registerHook(e,t,s,a,r){if(!e)throw new Error("Must specify key");s||(s=`hook_${M}`,M++),a||(a=99);let o=this[e];o||(o=[],this[e]=o);let n=(0,m.jq)(o,"name",s);n?(n.priority=a,n.fn=t,n.fnContext=r):(n={name:s,priority:a,fn:t,fnContext:r},o.push(n))}}},Y=s(4364);async function P(e,t,s,a,r,o=e=>e.toJSON()){const n=await a.dispatch(`${r}/cleanForDiff`,o(e),{root:!0}),i=await a.dispatch(`${r}/cleanForDiff`,o(t),{root:!0}),l=await a.dispatch(`${r}/cleanForDiff`,o(s),{root:!0}),u=(0,d.no)(n,l),c=(0,d.no)(n,i),E=(0,d.MA)(u,c);if(Y.log("Background Change",u),Y.log("User Change",c),Y.log("Conflicts",E),t.metadata.resourceVersion=s.metadata.resourceVersion,(0,d.TJ)(t,u),E.length){const e=[a.getters["i18n/t"]("validation.conflict",{fields:E.join(", "),fieldCount:E.length})];return e}return!1}var J=s(4364),w={name:"CreateEditView",mixins:[F],emits:["done"],data(){return{errors:[]}},computed:{isCreate(){return this.mode===a.YQ},isEdit(){return this.mode===a.G5},isView(){return this.mode===a.nW},schema(){const e=this.storeOverride||this.$store.getters["currentStore"](this.value.type);return this.$store.getters[`${e}/schemaFor`](this.value.type)},isNamespaced(){return this.schema?.attributes?.namespaced||!1},labels:{get(){return this.value?.labels},set(e){this.value.setLabels(e)}},annotations:{get(){return this.value?.annotations},set(e){this.value.setAnnotations(e)}},doneRoute(){if(this.value?.doneRoute)return this.value.doneRoute;let e=this.$route.name;return e?.endsWith("-id")?e=e.replace(/(-namespace)?-id$/,""):e?.endsWith("-create")&&(e=e.replace(/-create$/,"")),e},doneParams(){if(this.value?.doneParams)return this.value.doneParams;const e={...this.$route.params};return delete e.namespace,delete e.id,e}},methods:{done(){if(!this.doneEvent)return this.doneLocationOverride?this.$router.replace(this.doneLocationOverride):void(this.doneRoute&&this.$router.replace({name:this.doneRoute,params:this.doneParams||{resource:this.value.type}}));this.$emit("done")},async conflict(){return await P(this.initialValue,this.value,this.liveValue,{dispatch:this.$store.dispatch,getters:this.$store.getters},this.storeOverride||this.$store.getters["currentStore"](this.value.type))},async save(e,t,s=0){this.errors&&(0,m.IU)(this.errors);try{if(await this.applyHooks(k,this.value),this.value?.metadata?.labels&&0===Object.keys(this.value.metadata.labels||{}).length&&delete this.value.metadata.labels,this.value?.metadata?.annotations&&0===Object.keys(this.value.metadata.annotations||{}).length&&delete this.value.metadata.annotations,this.isCreate){const e=this.value?.metadata?.namespace;e&&e!==_&&this.value.$dispatch("prefs/set",{key:T,value:e},{root:!0})}await this.actuallySave(t),this.$store.getters["type-map/isSpoofed"](this.value.type)&&await this.$store.dispatch("cluster/findAll",{type:this.value.type,opt:{force:!0}},{root:!0}),await this.applyHooks(G,this.value),e&&e(!0),this.done()}catch(a){const r=409===a.status||409===a._status;if(r&&0===s&&this.isEdit){const a=await this.conflict();if(!1===a)return this.save(e,t,s+1);this.errors=a}else this.errors=(0,A.rz)(a);J.error("CreateEditView mixin failed to save: ",a),e&&e(!1)}},async actuallySave(e){if(this.isCreate){e=e||this.schema.linkFor("collection");const t=await this.value.save({url:e});t&&Object.assign(this.value,t)}else await this.value.save()},setErrors(e){this.errors=e}}},B=(0,r.defineComponent)({...w,props:{mode:{type:String,default:a.G5},realMode:{type:String,default:a.G5},as:{type:String,default:a.zD},value:{type:Object,required:!0},initialValue:{type:Object,default:null},liveValue:{type:Object,default:null},doneEvent:{type:Boolean,default:!1},useTabbedHash:{type:Boolean,default:void 0},defaultTab:{type:String,default:void 0}}})},513:function(e,t,s){var a=s(9201);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var r=s(4825).A;r("9eb1273a",a,!0,{sourceMap:!1,shadowMode:!1})},9621:function(e){"use strict";e.exports=JSON.parse('{"hasStylesheet":"true"}')},6471:function(e){"use strict";e.exports=JSON.parse('{"hasStylesheet":"true"}')},1862:function(e){"use strict";e.exports=JSON.parse('{"hasStylesheet":"false"}')},1507:function(e){"use strict";e.exports=JSON.parse('{"hasStylesheet":"false"}')},8401:function(e){"use strict";e.exports=JSON.parse('{"hasStylesheet":"false"}')},7259:function(e){"use strict";e.exports=JSON.parse('{"hasStylesheet":"true","banner":{"bannerClass":"suse-banner-graphic","textAlign":"left"},"login":{"bannerClass":"suse-login-banner-graphic","logo":"rancher-logo.svg","logoClass":"suse-logo-login","welcomeLabelKey":"login.login"}}')}}]);
//# sourceMappingURL=ocp-0.1.0.umd.min.737.js.map