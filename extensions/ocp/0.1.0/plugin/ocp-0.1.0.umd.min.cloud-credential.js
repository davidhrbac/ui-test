(("undefined"!==typeof self?self:this)["webpackChunkocp_0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunkocp_0_1_0"]||[]).push([[916],{7795:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var n=a(9274);const o={class:"row"},s={class:"col span-6"},i={class:"col span-6"},d={class:"row mt-20"},l={class:"col span-6"},c={class:"checkbox"},r=["disabled","checked"];function u(e,t,a,u,p,h){const v=(0,n.resolveComponent)("LabeledInput"),b=(0,n.resolveComponent)("BusyButton"),m=(0,n.resolveComponent)("Banner");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("div",o,[(0,n.createElementVNode)("div",s,[(0,n.createVNode)(v,{value:a.value.decodedData.endpoint,disabled:h.isView,label:"Endpoint",placeholder:"https://ocpportal.int.tieto.com/v2/graphql/",type:"text",mode:a.mode,onInput:h.onEndpointChange},null,8,["value","disabled","mode","onInput"])]),(0,n.createElementVNode)("div",i,[(0,n.createVNode)(v,{value:a.value.decodedData.token,disabled:h.isView,label:"Token",placeholder:"Paste OCP token",type:"password",mode:a.mode,onInput:h.onTokenChange},null,8,["value","disabled","mode","onInput"])])]),(0,n.createElementVNode)("div",d,[(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("label",c,[(0,n.createElementVNode)("input",{type:"checkbox",disabled:h.isView,checked:p.insecure,onChange:t[0]||(t[0]=(...e)=>h.onInsecureChange&&h.onInsecureChange(...e))},null,40,r),t[1]||(t[1]=(0,n.createElementVNode)("span",null,"Skip TLS verification",-1))])])]),(0,n.createVNode)(b,{label:"Test connection",disabled:h.isView||!h.canAuthenticate,class:"mt-20",onClick:h.test},null,8,["disabled","onClick"]),p.error?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,class:"mt-20",color:"error"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(p.error),1)])),_:1})):(0,n.createCommentVNode)("",!0)])}var p=a(8745),h=a(9529);const v=["disabled","tab-index","data-testid"],b={key:0,class:"icon icon-lg icon-spinner icon-spin"},m={key:1,class:"icon-spacer"};function f(e,t,a,o,s,i){return(0,n.openBlock)(),(0,n.createElementBlock)("button",{ref:"btn",class:"btn role-primary",disabled:a.disabled,"tab-index":a.tabIndex,"data-testid":a.componentTestid+"-async-button",onClick:t[0]||(t[0]=(...e)=>i.clicked&&i.clicked(...e))},[s.busy?((0,n.openBlock)(),(0,n.createElementBlock)("i",b)):((0,n.openBlock)(),(0,n.createElementBlock)("span",m)),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(i.displayLabel),1),t[1]||(t[1]=(0,n.createElementVNode)("span",{class:"icon-spacer"},null,-1))],8,v)}var k={props:{label:{type:String,default:void 0},labelKey:{type:String,default:void 0},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:null},componentTestid:{type:String,default:"busy-button"},manual:{type:Boolean,default:!1}},data(){return{busy:!1}},computed:{displayLabel(){if(this.labelKey){const e=this.$store.getters["i18n/t"];return e(this.labelKey)}return this.label}},methods:{clicked(e){if(e&&(e.stopPropagation(),e.preventDefault()),this.disabled)return;const t=()=>{this.busy=!1};this.$set(this,"busy",!0),this.$emit("click",t)},focus(){this.$refs.btn.focus()}}},y=(a(226),a(7433));const g=(0,y.A)(k,[["render",f],["__scopeId","data-v-5ae5965e"]]);var C=g,V=a(4220);const B="https://ocpportal.int.tieto.com/v2/graphql/";var D={components:{Banner:p.A,BusyButton:C,LabeledInput:h.o},props:{mode:{type:String,required:!0},value:{type:Object,required:!0}},data(){return{busy:!1,error:"",insecure:this.value?.decodedData?.insecureSkipVerify??!0}},watch:{insecure(){this.$emit("validationChanged",!!this.value?.decodedData?.token)}},computed:{isView(){return this.mode===V.nW},canAuthenticate(){return!!this.value?.decodedData?.token}},created(){this.value.decodedData.endpoint=this.value?.decodedData?.endpoint||B,this.value.decodedData.insecureSkipVerify=this.insecure,this.$emit("validationChanged",!!this.value?.decodedData?.token)},methods:{onTokenChange(e){this.value.setData("token",e),this.$emit("validationChanged",!!e)},onEndpointChange(e){this.value.setData("endpoint",e),this.$emit("validationChanged",!!this.value?.decodedData?.token)},onInsecureChange(e){const t=!!e?.target?.checked;this.insecure=t,this.value.setData("insecureSkipVerify",t),this.$emit("validationChanged",!!this.value?.decodedData?.token)},async test(e){return this.$set(this,"error",""),this.$set(this,"busy",!0),this.canAuthenticate?(this.$set(this,"busy",!1),this.$emit("validationChanged",!0),e&&e(!0),!0):(this.$set(this,"busy",!1),this.$emit("validationChanged",!1),e&&e(!1),!1)}}};a(5432);const E=(0,y.A)(D,[["render",u],["__scopeId","data-v-db66fc7e"]]);var N=E},8466:function(e,t,a){"use strict";a.r(t);var n=a(6758),o=a.n(n),s=a(6173),i=a.n(s),d=i()(o());d.push([e.id,".icon-spacer[data-v-5ae5965e]{width:24px}",""]),t["default"]=d},8456:function(e,t,a){"use strict";a.r(t);var n=a(6758),o=a.n(n),s=a(6173),i=a.n(s),d=i()(o());d.push([e.id,".checkbox[data-v-db66fc7e]{display:flex;gap:8px;align-items:center}",""]),t["default"]=d},226:function(e,t,a){var n=a(8466);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=a(4825).A;o("a86e1658",n,!0,{sourceMap:!1,shadowMode:!1})},5432:function(e,t,a){var n=a(8456);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=a(4825).A;o("1493f31e",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=ocp-0.1.0.umd.min.cloud-credential.js.map